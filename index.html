<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
       
        var emailElement = document.createElement('div');
        //var createLine = document.createElement('hr');
        var mainElement = document.getElementById('main');
            emailElement.id = 'emailsGoHere';
        //emailElement.appendChild(createLine);
        mainElement.appendChild(emailElement);
        document.body.appendChild(emailElement);
        

        function generateGeeMails(things){
            for (var i = 0; i < things.length; i++) {
                    //console.log(things[i]);
                var emailContent = document.createElement('div');
                    emailContent.className = 'emailContent';
                    emailElement.appendChild(emailContent);

                senderElement = document.createElement('span');
                senderElement.className = 'sender';
                senderElement.innerHTML = things[i].sender;
                emailContent.appendChild(senderElement); 

                subElement = document.createElement('span');
                subElement.className = 'subject';
                subElement.innerHTML = things[i].subject;
                emailContent.appendChild(subElement);
                
                dateElement = document.createElement('span');
                dateElement.className = 'date';
                dateElement.innerHTML = things[i].date;
                emailContent.appendChild(dateElement);

                bodyElement = document.createElement('div');
                bodyElement.className = 'body';
                bodyElement.innerHTML = things[i].body;
                emailContent.appendChild(bodyElement);

                


            } // closes 'for' loop
        } //closes generateGeeMails function
generateGeeMails(geemails);



    var emailMessages = document.getElementsByClassName('emailContent');
    for (var i = 0; i < emailMessages.length; i++) {
        emailMessages[i].addEventListener('click', showMessage);
    } //closes for loop

    function showMessage(event){
        var showBody = this.querySelectorAll('.body')[0];
        if(showBody.classList.contains('show') === false){
            return showBody.classList.add('show');
        }else{
            return showBody.classList.remove('show');
        } //closes if else statement
    } //this closes the showMessage function

    var inboxCount = document.getElementById('count');
    console.log(inboxCount);
    inboxCount = geemails.length;
    var totalCount = document.createTextNode(inboxCount);
    count.appendChild(totalCount);

    
    //console.log(getNewMessage());
    
    

    ////////////////////////////////////// 


    function addAnotherEmail(){
            
            var newMessage = getNewMessage(); 

                var emailContent = document.createElement('div');
                    emailContent.className = 'emailContent';
                    emailElement.appendChild(emailContent);

                
                senderElement = document.createElement('span');
                senderElement.className = 'sender';
                senderElement.innerHTML = newMessage.sender;
                emailContent.appendChild(senderElement); 

                subElement = document.createElement('span');
                subElement.className = 'subject';
                subElement.innerHTML = newMessage.subject;
                emailContent.appendChild(subElement);
                
                dateElement = document.createElement('span');
                dateElement.className = 'date';
                dateElement.innerHTML = newMessage.date;
                emailContent.appendChild(dateElement);

                bodyElement = document.createElement('div');
                bodyElement.className = 'body';
                bodyElement.innerHTML = newMessage.body;
                emailContent.appendChild(bodyElement);

                inboxCount++;
                count.innerHTML = inboxCount;

                var emailMessages = document.getElementsByClassName('emailContent');
                for (var i = 0; i < emailMessages.length; i++) {
                emailMessages[i].addEventListener('click', showMessage);
                }

    }


setInterval(addAnotherEmail, 3000);

////////////////////// changes background color vv //////////////////////

    /*var myVar = setInterval(function(){ setColor();}, 100);
 
    function setColor() {
    var x = document.body;
    x.style.backgroundColor = x.style.backgroundColor == "yellow" ? "cyan" : "yellow";
} //closes setColor() function 
 
function stopColor() {
  clearInterval(myVar);
} 
    
    console.log(getNewMessage().sender); */

    


      }; //closes window.onload function

    </script>
	</head>
	<body>
        <h1><span id='g'>G</span><span id='e'>E</span><span id='second_e'>E</span><span id='m'>M</span><span id='a'>A</span><span id='i'>I</span><span id='l'>L</span></h1>
        <div id="inbox"><b>Inbox: </b><span id="count"></span>
        </div>
		<div class="container" id="main">

		</div>

	</body>
</html>